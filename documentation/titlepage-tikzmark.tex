% arara: pdflatex
\documentclass[11pt]{article}
\usepackage{listingsutf8}
\usepackage{tikz}
\usetikzlibrary{calc}
\newcommand{\tikzmark}[1]{%
	\tikz[overlay,remember picture] \node[text=black,
		inner sep=2pt] (#1) {};}
\begin{document}
\pagestyle{empty}
\begin{lstlisting}[escapeinside={(*@}{@*)},basicstyle=\ttfamily]
(*@\tikzmark{linebegin1}@*)\pgfplotsset{(*@\tikzmark{linebegin66}@*)
 (*@\tikzmark{linebegin2}@*)every spark line/.style={(*@\tikzmark{linebegin65}@*)
   (*@\tikzmark{linebegin3}@*)hide axis,(*@\tikzmark{linebegin64}@*)
   (*@\tikzmark{linebegin4}@*)clip=false,(*@\tikzmark{linebegin63}@*)
   (*@\tikzmark{linebegin5}@*)bar width=2pt,(*@\tikzmark{linebegin62}@*)
   (*@\tikzmark{linebegin6}@*)cycle list={blue,mark=none\\},(*@\tikzmark{linebegin61}@*)
   (*@\tikzmark{linebegin7}@*)height=0.8\baselineskip,(*@\tikzmark{linebegin60}@*)
   (*@\tikzmark{linebegin8}@*)anchor=south west,(*@\tikzmark{linebegin59}@*)
   (*@\tikzmark{linebegin9}@*)width=5\baselineskip,(*@\tikzmark{linebegin58}@*)
   (*@\tikzmark{linebegin10}@*)scale only axis,(*@\tikzmark{linebegin57}@*)
   (*@\tikzmark{linebegin11}@*)filter point/.code={%(*@\tikzmark{linebegin56}@*)
     (*@\tikzmark{linebegin12}@*)\xdef\sparklinex{\pgfkeysvalueof{/data point/x}}%(*@\tikzmark{linebegin55}@*)
     (*@\tikzmark{linebegin13}@*)\global\let\sparklineENDy\sparkliney(*@\tikzmark{linebegin54}@*)
    (*@\tikzmark{linebegin14}@*)},(*@\tikzmark{linebegin53}@*)
   (*@\tikzmark{linebegin15}@*)extra description/.code={%(*@\tikzmark{linebegin52}@*)
     (*@\tikzmark{linebegin16}@*)\node[begin node description]  {\pgfkeysvalueof{/pgfplots/begin node text}};(*@\tikzmark{linebegin51}@*)
     (*@\tikzmark{linebegin17}@*)\node[end node description]    {\pgfkeysvalueof{/pgfplots/end node text}};(*@\tikzmark{linebegin50}@*)
    (*@\tikzmark{linebegin18}@*)},(*@\tikzmark{linebegin49}@*)
  (*@\tikzmark{linebegin19}@*)},(*@\tikzmark{linebegin48}@*)
 (*@\tikzmark{linebegin20}@*)spark std max/.initial=,(*@\tikzmark{linebegin47}@*)
 (*@\tikzmark{linebegin21}@*)spark std min/.initial=,(*@\tikzmark{linebegin46}@*)
 (*@\tikzmark{linebegin22}@*)/tikz/spark std region/.style={fill=gray!10},(*@\tikzmark{linebegin45}@*)
 (*@\tikzmark{linebegin23}@*)begin node text/.initial=\pgfmathprintnumber{\sparklineSTARTy},(*@\tikzmark{linebegin44}@*)
 (*@\tikzmark{linebegin24}@*)end node text/.initial=  \pgfmathprintnumber{\sparklineENDy},(*@\tikzmark{linebegin43}@*)
 (*@\tikzmark{linebegin25}@*)/tikz/begin node description/.style={(*@\tikzmark{linebegin42}@*)
   (*@\tikzmark{linebegin26}@*)text width=3em,align=right,(*@\tikzmark{linebegin41}@*)
   (*@\tikzmark{linebegin27}@*)base left,sparkcolor,(*@\tikzmark{linebegin40}@*)
   (*@\tikzmark{linebegin28}@*)/pgf/number format/fixed,(*@\tikzmark{linebegin39}@*)
   (*@\tikzmark{linebegin29}@*)/pgf/number format/fixed zerofill,(*@\tikzmark{linebegin38}@*)
   (*@\tikzmark{linebegin30}@*)/pgf/number format/showpos,(*@\tikzmark{linebegin37}@*)
   (*@\tikzmark{linebegin31}@*)at={(current axis.south west)},(*@\tikzmark{linebegin36}@*)
  (*@\tikzmark{linebegin32}@*)},(*@\tikzmark{linebegin35}@*)
(*@\tikzmark{linebegin33}@*)}(*@\tikzmark{linebegin34}@*)
\end{lstlisting}
\begin{tikzpicture}[overlay,remember picture]
	\draw[opacity=0.75,fill=red!50!white,draw=red,very thick,rounded corners=.5ex]
($(linebegin1)+(0ex,-1ex)$)
-| ($(linebegin2)+(0ex,-1ex)$)
-| ($(linebegin3)+(0ex,-1ex)$)
-| ($(linebegin4)+(0ex,-1ex)$)
-| ($(linebegin5)+(0ex,-1ex)$)
-| ($(linebegin6)+(0ex,-1ex)$)
-| ($(linebegin7)+(0ex,-1ex)$)
-| ($(linebegin8)+(0ex,-1ex)$)
-| ($(linebegin9)+(0ex,-1ex)$)
-| ($(linebegin10)+(0ex,-1ex)$)
-| ($(linebegin11)+(0ex,-1ex)$)
-| ($(linebegin12)+(0ex,-1ex)$)
-| ($(linebegin13)+(0ex,-1ex)$)
-| ($(linebegin14)+(0ex,-1ex)$)
-| ($(linebegin15)+(0ex,-1ex)$)
-| ($(linebegin16)+(0ex,-1ex)$)
-| ($(linebegin17)+(0ex,-1ex)$)
-| ($(linebegin18)+(0ex,-1ex)$)
-| ($(linebegin19)+(0ex,-1ex)$)
-| ($(linebegin20)+(0ex,-1ex)$)
-| ($(linebegin21)+(0ex,-1ex)$)
-| ($(linebegin22)+(0ex,-1ex)$)
-| ($(linebegin23)+(0ex,-1ex)$)
-| ($(linebegin24)+(0ex,-1ex)$)
-| ($(linebegin25)+(0ex,-1ex)$)
-| ($(linebegin26)+(0ex,-1ex)$)
-| ($(linebegin27)+(0ex,-1ex)$)
-| ($(linebegin28)+(0ex,-1ex)$)
-| ($(linebegin29)+(0ex,-1ex)$)
-| ($(linebegin30)+(0ex,-1ex)$)
-| ($(linebegin31)+(0ex,-1ex)$)
-| ($(linebegin32)+(0ex,-1ex)$)
-| ($(linebegin33)+(0ex,-1ex)$)
-- ($(linebegin34)+(0ex,-1ex)$)
|- ($(linebegin35)+(0ex,-1ex)$)
|- ($(linebegin36)+(0ex,-1ex)$)
|- ($(linebegin37)+(0ex,-1ex)$)
|- ($(linebegin38)+(0ex,-1ex)$)
|- ($(linebegin39)+(0ex,-1ex)$)
|- ($(linebegin40)+(0ex,-1ex)$)
|- ($(linebegin41)+(0ex,-1ex)$)
|- ($(linebegin42)+(0ex,-1ex)$)
|- ($(linebegin43)+(0ex,-1ex)$)
|- ($(linebegin44)+(0ex,-1ex)$)
|- ($(linebegin45)+(0ex,-1ex)$)
|- ($(linebegin46)+(0ex,-1ex)$)
|- ($(linebegin47)+(0ex,-1ex)$)
|- ($(linebegin48)+(0ex,-1ex)$)
|- ($(linebegin49)+(0ex,-1ex)$)
|- ($(linebegin50)+(0ex,-1ex)$)
|- ($(linebegin51)+(0ex,-1ex)$)
|- ($(linebegin52)+(0ex,-1ex)$)
|- ($(linebegin53)+(0ex,-1ex)$)
|- ($(linebegin54)+(0ex,-1ex)$)
|- ($(linebegin55)+(0ex,-1ex)$)
|- ($(linebegin56)+(0ex,-1ex)$)
|- ($(linebegin57)+(0ex,-1ex)$)
|- ($(linebegin58)+(0ex,-1ex)$)
|- ($(linebegin59)+(0ex,-1ex)$)
|- ($(linebegin60)+(0ex,-1ex)$)
|- ($(linebegin61)+(0ex,-1ex)$)
|- ($(linebegin62)+(0ex,-1ex)$)
|- ($(linebegin63)+(0ex,-1ex)$)
|- ($(linebegin64)+(0ex,-1ex)$)
|- ($(linebegin65)+(0ex,-1ex)$)
|- ($(linebegin66)+(0ex,-1ex)$)
|- ($(linebegin66)+(0ex,1ex)$)
|- ($(linebegin1)+(0ex,2ex)$)
-- ($(linebegin1)+(0ex,-1ex)$);
\end{tikzpicture}
\end{document}
